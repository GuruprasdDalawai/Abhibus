<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./style.css" />
    <link rel="styleSheet" href="./admin.css" />
    <link rel="styleSheet" href="./user.css" />
    <script src="
https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>

    <title>Abhi bus</title>
    <!-- <script src="./user.js"></script> -->
  </head>
  <body>
    <header class="header">
      <div class="Wrapper">
        <div
          class="poppins-extrabold logoFontSize display-inlineblock"
          style="cursor: pointer"
          onclick="location.reload()"
        >
          <span class="logColor">Abhi</span>bus
        </div>
        <div class="float-right">
          <div style="display: inline-block">
            <button class="btn tktbtn" onclick="showBookedTikets()">
              Tickets
            </button>
          </div>
          <div class="profile" id="profileICon" onclick="ShowProfile()">
            <i class="bx bxs-user profile"></i>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div id="serchdiv" class="search2" style="margin-top: 15px">
        <div class="Wrapper displayLine" id>
          <div>
            <div class="input-box">
              <input type="text" placeholder="From" id="txtSearchFrom" />
            </div>
            <div class="errorContainer">
              <sapn class="error" id="txtSearchFrom_err"
                >please check your phonenumber</sapn
              >
            </div>
          </div>
          <div>
            <div class="input-box">
              <input type="text" placeholder="To" id="txtSearchTo" />
            </div>
            <div class="errorContainer">
              <sapn class="error" id="txtSearchTo_err"
                >please check your phonenumber</sapn
              >
            </div>
          </div>
          <div>
            <div class="input-box">
              <input type="date" id="SearchDate" />
            </div>
            <div class="errorContainer">
              <sapn class="error" id="SearchDate_err"
                >please check your phonenumber</sapn
              >
            </div>
          </div>
          <div>
            <div class="input-box">
              <button type="submit" class="btn" onclick="searchBuses()">
                Search
              </button>
            </div>
            <div class="errorContainer">
              <sapn class="error">please check your phonenumber</sapn>
            </div>
          </div>
        </div>
      </div>

      <div id="displayContent"></div>
      <!-- <div id="addBus" class="Wrapper addBus">
        <div>
          <span>VRL</span>
          <div>KA28HB6886</div>
        </div>
        <div>
          <span>Vijayapura</span>
          <span>24-05-2024</span>
          <span>20:45</span>
        </div>
        <div>
          <spen>Bengaluru</spen>
          <span>23-05-2024</span>
          <spen>06:45</spen>
        </div>
        <div class="">
          <span>₹800 </span>
          <span>3 seats Available</span>
          <button class="btn" onclick="showseats()">Book</button>
        </div>
      </div>
      <div id="addBus" class="Wrapper addBus">
        <div>
          <span>VRL</span>
          <div>KA28HB6886</div>
        </div>
        <div>
          <span>Vijayapura</span>
          <span>24-05-2024</span>
          <span>20:45</span>
        </div>
        <div>
          <spen>Bengaluru</spen>
          <span>23-05-2024</span>
          <spen>06:45</spen>
        </div>
        <div class="">
          <span>₹800 </span>
          <span>3 seats Available</span>
          <button class="btn">Book</button>
        </div>
      </div> -->

      <div class="book Wrapper" id="seatContiner">
        <button
          class="clsoeBtn"
          id="updateClose"
          onclick="closeSeatSelection()"
        >
          X
        </button>
        <div class="busdetails">
          <span>From </span>
          <span style="color: green" id="seat_from">Vijayapura</span>
          <span id="seat_depatureDate">24-05-2024</span>
          <!-- <span id="seat_depatureTime">20:45</span> -->
          <span> T0 </span>
          <span style="color: green" id="Seat_to">Bengalore</span>
          <span id="seat_arrivalDate">23-05-2024</span>
          <!-- <spen id="seat_arrivalTime">06:45</spen> -->
        </div>
        <div id="seatsDispaly" class="seatsDispaly">
          <div class="upperDekker">
            <div class="cabin">
              <div class="vertical-text"><span>Upper</span></div>
            </div>
            <table>
              <tr>
                <td>
                  <div class="seat" data-seat="U1">
                    U1
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U4">
                    U4
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U7">
                    U7
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U10">
                    U10
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U13">
                    U13
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U16">
                    U16
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U19">
                    U19
                    <div class="pillow"></div>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="seat" data-seat="U2">
                    U2
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U5">
                    U5
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U8">
                    U8
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U11">
                    U11
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U14">
                    U14
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U17">
                    U17
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U20">
                    U20
                    <div class="pillow"></div>
                  </div>
                </td>
              </tr>
              <tr></tr>
              <tr>
                <td>
                  <div class="seat" data-seat="U3">
                    U3
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U6">
                    U6
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U9">
                    U9
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U12">
                    U12
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U15">
                    U15
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U18">
                    U18
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="U21">
                    U21
                    <div class="pillow"></div>
                  </div>
                </td>
              </tr>
            </table>
          </div>
          <div class="lowerDekker">
            <div class="cabin">
              <div class="wheel">
                <svg
                  x="0px"
                  y="0px"
                  viewBox="0 0 24 24"
                  width="2rem"
                  height="2rem"
                  fill="currentColor"
                  style="color: rgb(122, 122, 122)"
                >
                  <g
                    transform="matrix(0.022438, 0, 0, 0.022438, 0.781086, 0.781028)"
                  >
                    <g
                      transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)"
                    >
                      <path
                        d="M4456.6,4992.6c-1186-146.8-2204.3-655.9-3009.9-1500.5C757.8,2770.3,335.5,1928.7,152.8,922.4c-68.9-392.3-71.9-1230.9,0-1617.3c128.8-715.8,437.3-1458.6,835.6-2021.6c242.6-344.4,829.6-934.4,1171-1174c937.4-661.9,2126.4-985.3,3234.6-883.5c694.8,65.9,1144.1,191.7,1773,497.2c518.1,254.5,853.6,497.1,1287.8,931.4c197.7,197.7,446.3,482.2,551.1,628.9C9221.6-2411,9539-1782,9652.8-1431.7c335.4,1009.3,329.4,2129.4-18,3141.7c-122.8,365.4-404.3,913.5-634.9,1239.9c-239.6,341.4-829.6,928.4-1174,1171c-560.1,395.3-1317.8,709.8-2006.6,832.6C5492.8,5010.5,4765,5031.5,4456.6,4992.6z M5585.7,4019.2c1233.9-182.7,2330.1-964.4,2914.1-2081.5l152.7-296.5H4998.7H1341.8l107.8,218.6c380.4,760.7,1000.3,1389.7,1755.1,1773C3947.4,4010.2,4762.1,4142,5585.7,4019.2z M5352,997.3c545.1-191.7,691.9-904.5,266.6-1290.8c-161.7-143.8-302.5-197.7-518.1-200.6c-212.6,0-356.4,53.9-518.1,203.7c-173.7,155.8-245.6,320.5-245.6,560.1C4336.8,805.6,4848.9,1174,5352,997.3z M1955.8,23.9c290.5-74.9,679.9-254.6,928.4-434.3c275.5-197.7,637.9-596,802.6-886.5c263.6-464.2,407.3-1078.2,365.4-1554.4c-21-239.6-119.8-703.8-164.7-775.7c-32.9-56.9-188.7-12-566,164.7c-425.3,200.7-760.7,437.3-1111.1,790.7c-622.9,620-994.3,1350.7-1123.1,2216.3c-24,155.7-44.9,350.4-44.9,431.3v146.8l338.4-18C1563.4,95.8,1824,59.9,1955.8,23.9z M8949-27c0-80.9-21-272.5-44.9-428.3c-128.8-865.6-500.2-1599.3-1123.1-2216.3c-353.4-353.4-691.8-593-1111.1-790.7c-425.3-197.7-404.3-197.7-461.2-12c-128.8,440.2-137.8,1132.1-18,1536.4c74.9,245.6,263.6,649.9,392.3,838.6c488.2,709.8,1371.7,1198,2195.3,1210l170.7,3V-27z"
                      ></path>
                    </g>
                  </g>
                </svg>
              </div>
              <div class="vertical-text"><span>Lower</span></div>
            </div>
            <table>
              <tr>
                <td>
                  <div class="seat" data-seat="L1">
                    L1
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L4">
                    L4
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L7">
                    L7
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L10">
                    L10
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L13">
                    L13
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L16">
                    L16
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L19">
                    L19
                    <div class="pillow"></div>
                  </div>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="seat" data-seat="L2">
                    L2
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L5">
                    L5
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L8">
                    L8
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L11">
                    L11
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L14">
                    L14
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L17">
                    L17
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L20">
                    L20
                    <div class="pillow"></div>
                  </div>
                </td>
              </tr>
              <tr></tr>
              <tr>
                <td>
                  <div class="seat" data-seat="L3">
                    L3
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L6">
                    L6
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L9">
                    L9
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L12">
                    L12
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L15">
                    L15
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L18">
                    L18
                    <div class="pillow"></div>
                  </div>
                </td>
                <td>
                  <div class="seat" data-seat="L21">
                    L21
                    <div class="pillow"></div>
                  </div>
                </td>
              </tr>
            </table>
          </div>
          <button
            class="btn float-right"
            id="btnBookSets"
            onclick="showPassangerpage(this)"
          >
            Proceed
          </button>
        </div>
      </div>
      <div class="book Wrapper" id="passngerDetails" style="width: 400px">
        <button class="clsoeBtn" onclick="passngerDetails()">X</button>
        <h1>Passanger Details</h1>
        <div id="passngerListinput"></div>
        <div class="error" id="displyErr"></div>
        <button
          class="btn"
          id="btbgoforPayment"
          onclick="goForPayment(this)"
          style="float: right"
        >
          Go for Payment
        </button>
      </div>
      <div class="book Wrapper popup" id="paymentContainer">
        <button class="clsoeBtn" onclick="paymentClose()">X</button>
        <h1>Payment Modes</h1>
        <div class="paymentcardConent" id="paymentCardContiner">
          <div class="input-box">
            <input type="number" id="CardNumber" placeholder="Cardnumber" />
          </div>
          <div class="input-box">
            <input type="text" placeholder="mm/yyyy" />
          </div>
          <div class="input-box">
            <input type="password" id="cvv" placeholder="cvv" />
          </div>
          <button
            id="btnCardPaymnet"
            class="btn"
            onclick="paynow(this)"
            style="border: solid; margin-top: 15px; color: white"
          >
            Paynow
          </button>
        </div>
        <div class="paymentVirtuleConent" id="paymentVirtuleContiner">
          <div class="input-box">
            <input type="number" id="virtualID" placeholder="Virtua1 id" />
          </div>
          <button
            id="btnVirtualPaymnet"
            class="btn"
            onclick="paynow(this)"
            style="border: solid; margin-top: 15px; color: white"
          >
            Paynow
          </button>
        </div>
      </div>

      <div
        class="popup popupContent"
        id="Cpy_ticketdetails"
        style="display: none; z-index: -2"
      >
        <div class="poppins-extrabold logoFontSize display-inlineblock">
          <span class="logColor">Abhi</span>bus
        </div>
        <div><h3>Your ticket booked</h3></div>
        <h4>Ticket details</h4>
        <table id="CPY_tiketdestailsdisplay">
          <tr>
            <td>busid</td>
            <td>B_1715848491</td>
          </tr>
          <tr>
            <td>pnr</td>
            <td>R_1715932772</td>
          </tr>
          <tr>
            <td>mobileNumber</td>
            <td>6363135746</td>
          </tr>
          <tr>
            <td>passagers</td>
            <td>,</td>
          </tr>
          <tr>
            <td>seats</td>
            <td>L17,L20</td>
          </tr>
          <tr>
            <td>journeyDate</td>
            <td>2024-05-17T17:03</td>
          </tr>
          <tr>
            <td>totalfare</td>
            <td>1200</td>
          </tr>
        </table>
        <h1>Happy journey</h1>
      </div>

      <div class="popup" id="ticketdetailsContainer">
        <button class="clsoeBtn" id="updateClose" onclick="closeTicket()">
          X
        </button>
        <div class="popupContent" id="ticketdetails" style="display: block">
          <div class="poppins-extrabold logoFontSize display-inlineblock">
            <span class="logColor">Abhi</span>bus
          </div>
          <div><h3>Your ticket booked</h3></div>
          <h4>Tcket details</h4>
          <table id="tiketdestailsdisplay">
            <tr>
              <td>busid</td>
              <td>B_1715848491</td>
            </tr>
            <tr>
              <td>pnr</td>
              <td>R_1715932772</td>
            </tr>
            <tr>
              <td>mobileNumber</td>
              <td>6363135746</td>
            </tr>
            <tr>
              <td>passagers</td>
              <td>,</td>
            </tr>
            <tr>
              <td>seats</td>
              <td>L17,L20</td>
            </tr>
            <tr>
              <td>journeyDate</td>
              <td>2024-05-17T17:03</td>
            </tr>
            <tr>
              <td>totalfare</td>
              <td>1200</td>
            </tr>
          </table>
          <h1>Happy journey</h1>
        </div>
        <button
          id="downBTN"
          class="btn float-right"
          style="cursor: pointer"
          onclick="Download()"
        >
          Download Ticket
        </button>
      </div>

      <div id="ticketlist" class="popup">
        <button
          class="containerclsoeBtn"
          id="updateClose"
          onclick="closeSeatSelection()"
        >
          X
        </button>
        <div class="popupContent" id="ticketdetails">
          <h3 style="color: #dc635b">Your tickets</h3>
          <table id="listofTicket">
            <tr>
              <td>totalfare</td>
              <td>1200</td>
            </tr>
          </table>
        </div>
      </div>

      <div class="displayprofile" id="displayprofile">
        <button
          class="containerclsoeBtn"
          id="updateClose"
          onclick="closeProfile()"
        >
          X
        </button>
        <div class="content">
          <div id="userNameDisplay">Guruprasad</div>
          <div id="userEmailID">example@gmail.com</div>
          <div id="userMobile">6363135746</div>
          <div class="float-right">
            <button class="btn" onclick="logout()">Logout</button>
          </div>
        </div>
      </div>
      <div class="popup" id="noresult">
        <button
          class="containerclsoeBtn"
          id="updateClose"
          onclick="closeNoResult()"
        >
          X
        </button>
        <h1>No Results found</h1>
      </div>
      <div class="popup" style="display: none" id="paymnetmode">
        <button
          class="containerclsoeBtn"
          id="updateClose"
          onclick="closepayment()"
        >
          X
        </button>
        <div class="container">
          <h1>Payment Modes</h1>
          <div class="payment-options">
            <button class="payment-option" data-target="creditcard">
              Credit Card
            </button>
            <button class="payment-option" data-target="debitcard">
              Debit Card
            </button>
            <button class="payment-option" data-target="upi">UPI</button>
          </div>
          <div class="payment-forms">
            <div class="payment-form" id="creditcard">
              <h2>Credit Card Details</h2>
              <table>
                <tr>
                  <td><label for="input_cnumber">Card Number:</label></td>
                  <td>
                    <input type="text" id="input_cnumber" required />
                    <span class="error" id="creditcard_err"></span>
                  </td>
                </tr>

                <tr>
                  <td><label for="input_ccnumber">CVV:</label></td>
                  <td>
                    <input type="password" id="input_ccnumber" required />
                    <span class="error" id="creditcvv_err"></span>
                  </td>
                </tr>
              </table>
              <button id="btnCredit" onclick="creditCardpayment(this)">
                Pay Now
              </button>
            </div>
            <div class="payment-form" id="debitcard">
              <h2>Debit Card Details</h2>
              <table>
                <tr>
                  <td><label for="input_dnumber">Card Number:</label></td>
                  <td>
                    <input type="text" id="input_dnumber" required />
                    <span class="error" id="debitcard_err"></span>
                  </td>
                </tr>
                <tr>
                  <td><label for="input_dcnumber">CVV:</label></td>
                  <td>
                    <input type="password" id="input_dcnumber" required />
                    <span class="error" id="debitcvv_err"></span>
                  </td>
                </tr>
              </table>
              <button id="btnDebit" onclick="debitCardpayment(this)">
                Pay Now
              </button>
            </div>
            <div class="payment-form" id="upi">
              <h2>UPI ID</h2>
              <label for="input_upi">Enter UPI ID:</label>
              <input type="text" id="input_upi" required />
              <span class="error" id="upi_err"></span>
              <button id="btnUpi" onclick="upipayment(this)">Pay Now</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <div class="Wrapper">
        <div>AbhiBus</div>
        <div class="copyRigh">
          Copyright @ GSD Technologeis Ltd. All Rights Reserved.
        </div>
      </div>
    </footer>
    <div class="blur" id="layerBlur" onclick="location.reload()"></div>
    <script>
      const SearchDate = document.getElementById("SearchDate");
      SearchDate.setAttribute("min", new Date().toISOString().split("T")[0]);
      console.log(SearchDate);

      function ShowProfile() {
        document.getElementById("displayprofile").style.display = "block";
      }

      if (localStorage.getItem("isLogin") == "") {
        location.href = "index.html";
      }

      let mobilenumber = localStorage.getItem("isLogin");
      let list = JSON.parse(localStorage.getItem("reglist"));
      let filter = list.filter((obj) => obj.mobileNumber === mobilenumber);
      console.log(mobilenumber);
      document.getElementById("userMobile").innerHTML = mobilenumber;
      document.getElementById("userNameDisplay").innerHTML = filter[0].name;
      document.getElementById("userEmailID").innerHTML = filter[0].email;

      const paymentOptions = document.querySelectorAll(".payment-option");
      const paymentForms = document.querySelectorAll(".payment-form");

      paymentOptions.forEach((button) => {
        button.addEventListener("click", function () {
          const targetId = this.dataset.target;
          paymentOptions.forEach((option) => option.classList.remove("active"));
          this.classList.add("active");
          paymentForms.forEach((form) => (form.style.display = "none"));
          document.getElementById(targetId).style.display = "block";
        });
      });
    </script>
    <script src="./user.js"></script>
  </body>
</html>
