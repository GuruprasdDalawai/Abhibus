
      

        <!-- <div id="RegisterContainer" class="registerContent">
          <div class="Wrapper">
            <form>
              <h3 class="poppins-light">Register to AbhiBus</h3>
              <div class="input-box">
                <input type="text" placeholder="Name" />
              </div>
              <div class="input-box">
                <input type="number" placeholder="Phone number" />
              </div>
              <div class="input-box">
                <input type="email" placeholder="Email" />
              </div>
              <div class="input-box">
                <input type="password" placeholder="Password" />
              </div>
              <div class="input-box">
                <input type="password" placeholder="Confirm password" />
              </div>
              <button class="btn">Register</button>
            </form>
          </div>
        </div>
      </div> -->



       try {
    let reg_name = document.getElementById("RegName").value;
    let reg_email = document.getElementById("RegEmail").value;
    let reg_phoneNumber = document.getElementById("RegPhoneNumber").value;
    let reg_password = document.getElementById("RegPassword").value;
    let reg_crmPwd = document.getElementById("RegConfirmPassword").value;

    //Eelemtnts
    let reg_name_err = document.getElementById("RegName_err");
    let reg_email_err = document.getElementById("RegEmail_err");
    let reg_phoneNuber_err = document.getElementById("RegPhoneNumber_err");
    let reg_password_err = document.getElementById("RegPassword_err");
    let reg_crmPwd_err = document.getElementById("RegConfirmPassword_err");

    if (!nameValidate(reg_name)) {
      throw new Error("Invalid name");
    }

    if (!checkPhoneNumberFormat(reg_phoneNumber)) {
      throw new Error("Wrong phone number format");
    }

    if (!checkPhoneNumberFormat(reg_password_err)) {
      throw new Error("check password format");
    }

    if (reg_password !== reg_crmPwd) {
      throw new Error("Password did not match");
    }
    let reg_list = [];
    if (localStorage.getItem("reglist") !== null) {
      reg_list = JSON.parse(localStorage.getItem("reglist"));
      reg_list = [...reg_list];
      if (
        reg_list.filter((obj) => obj.mobileNumber === reg_phoneNuber_err)
          .length > 0
      ) {
        throw new Error("This phone number is alredy register");
      }
    }
    reg_list.push({
      name: reg_name,
      mobileNumber: reg_phoneNumber,
      email: reg_email,
      password: reg_password,
    });
    localStorage.setItem("reglist", JSON.stringify(reg_list));
  } catch (e) {
    console.log(e);
    alert(e.message);
  }




  
function registerBtn() {
  try {
    let reg_name = document.getElementById("RegName").value;
    let reg_email = document.getElementById("RegEmail").value;
    let reg_phoneNumber = document.getElementById("RegPhoneNumber").value;
    let reg_password = document.getElementById("RegPassword").value;
    let reg_crmPwd = document.getElementById("RegConfirmPassword").value;

    //Eelemtnts
    let reg_name_err = document.getElementById("RegName_err");
    let reg_email_err = document.getElementById("RegEmail_err");
    let reg_phoneNuber_err = document.getElementById("RegPhoneNumber_err");
    let reg_password_err = document.getElementById("RegPassword_err");
    let reg_crmPwd_err = document.getElementById("RegConfirmPassword_err");

    if (!validateName(reg_name)) {
      displayErr("Invalid Name", "RegName_err");
      return;
    } else {
      restErr("RegName_err");
    }

    if (!validatePhoneNumber(reg_phoneNumber)) {
      displayErr("Invalid Phone Number", "RegPhone_err");
      return;
    } else {
      restErr("RegPhone_err");
    }
    if (!ValidateEmail(reg_email)) {
      displayErr("Invalid Email id", "RegEmai_err");
      return;
    } else {
      restErr("RegEmai_err");
    }
    if (!validatePassword(reg_password)) {
      displayErr("Invalid invalid password", "RegPwd_err");
      return;
    } else {
      restErr("RegPwd_err");
    }
    if (reg_password !== reg_crmPwd) {
      console(reg_password, reg_crmPwd_err);
      displayErr("Password did not match", "RegCrfmPwd_err");
      return;
    } else {
      restErr("RegCrfmPwd_err");
    }

    let reg_list = [];

    if (localStorage.getItem("reglist") !== null) {
      reg_list = JSON.parse(localStorage.getItem("reglist"));
      reg_list = [...reg_list];
      if (
        reg_list.filter((obj) => obj.mobileNumber === reg_phoneNumber).length >
        0
      ) {
        displayErr("This phone Number is already registered", "RegPhone_err");
        return;
      }
    }
    reg_list.push({
      name: reg_name,
      mobileNumber: reg_phoneNumber,
      email: reg_email,
      password: reg_password,
    });

    localStorage.setItem("reglist", JSON.stringify(reg_list));
    localStorage.setItem("isLogin", reg_phoneNumber);

    conseol.log("completed");
  } catch (e) {
    console.log(e);
  }
}

function validateName(name) {
  var regex = /^[a-zA-Z]+$/;
  if (!regex.test(name)) {
    return false;
  } else {
    return true;
  }
}

function validatePhoneNumber(phoneNum) {
  if (phoneNum.length > 6 && phoneNum.length < 11) {
    return true;
  }
  return false;
}

function ValidateEmail(email) {
  if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)) {
    return true;
  }
  return false;
}

function validatePassword(pwd) {
  if (pwd !== "" && pwd !== undefined && pwd !== "") {
    return true;
  }
  return false;
}
function displayErr(message, elemntID) {
  let elemnt = document.getElementById(elemntID);
  elemnt.textContent = message;
  elemnt.parentElement.style.display = "block";
}

function restErr(elemntID) {
  let elemnt = document.getElementById(elemntID);
  elemnt.parentElement.style.display = "none";
}



// let loginBtn = document.getElementById("login_btn");
// loginBtn.onclick = function () {
//   try {
//     let loginPhoenumber = document.getElementById("").value;
//     let loginPasssword = document.getElementById("").value;
//     let chk_phn = checkPhoneNumberFormat(loginPhoenumber);
//     let chk_pwd = checkPhoneNumberFormat(loginPasssword);
//     if (!chk_phn) {
//       throw new Error("Wrong phone number format");
//     }
//     if (!chk_pwd) {
//       throw new Error("wrong Password format");
//     }
//     if (chk_phn && chk_pwd) {
//       if (localStorage.get("reglist") !== null) {
//         let reg_list = JSON.parse(localStorage.getItem("reglist"));
//         let res = reg_list.filter(
//           (obj) => obj.mobileNumber === loginPhoenumber
//         );
//         if (res) {
//           if (res[0].password == loginPasssword) {
//             localStorage.setItem("login", loginPhoenumber);
//             location.href = "./admin.html";
//           } else {
//             throw new Error("wrong password");
//           }
//         } else {
//           throw new Error("user not found");
//         }
//       }
//     }
//   } catch (e) {
//     if (e.message === "Wrong phone number format") {
//       let element = document.getElementById();
//       element.textContent = e.message;
//     }
//     if (e.message === "wrong Password format") {
//       let element = document.getElementById();
//       element.textContent = e.message;
//     }
//     if (e.message === "wrong password") {
//       let element = document.getElementById();
//       element.textContent = e.message;
//     }
//     if (e.message === "user not found") {
//       let element = document.getElementById();
//       element.textContent = e.message;
//     }
//   }
// };


console.log(addbusNumber);
    console.log(addbusSource);
    console.log(addbusDestination);
    console.log(addbusDepartureTime);
    console.log(addbusArrivalTime);
    console.log(addbusSeats);
    console.log(addbusfare);
    console.log(addbuscompany);



    // let pnr = element.dataset.pnr;
  // let bookedTicket = [];
  // if (localStorage.getItem("bookedTicket") !== null) {
  //   bookedTicket = JSON.parse(localStorage.getItem("bookedTicket"));
  //   let filterTiket = bookedTicket.filter((obj) => obj.pnr === pnr);
  //   let updateTikets = bookedTicket.filter((obj) => obj.pnr !== pnr);
  //   let tciketObj = filterTiket[0];
  //   let buslist = JSON.parse(localStorage.getItem("buslist"));
  //   buslist.forEach((obj) => {
  //     if (obj.id === tciketObj.busid) {
  //       let mainArybooked = obj.bookedSeats;
  //       let removingAryBooked = tciketObj.seats;
  //       obj.bookedSeats = mainary.filter(
  //         (item) => !removingAryBooked.includes(item)
  //       );
  //     }
  //   });
  //   localStorage.setItem("buslist", JSON.stringify(buslist));
  //   localStorage.setItem("bookedTicket", JSON.stringify(updateTikets));
  // }


  // Function to calculate the time difference between two dates
function getTimeDifference(date1, date2) {
    // Ensure the dates are valid Date objects
    const d1 = new Date(date1);
    const d2 = new Date(date2);

    if (isNaN(d1) || isNaN(d2)) {
        throw new Error("Invalid date format");
    }

    // Calculate the time difference in milliseconds
    const timeDifference = Math.abs(d2 - d1);

    // Convert time difference to different units
    const milliseconds = timeDifference;
    const seconds = Math.floor(timeDifference / 1000);
    const minutes = Math.floor(timeDifference / (1000 * 60));
    const hours = Math.floor(timeDifference / (1000 * 60 * 60));
    const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));

    return {
        milliseconds,
        seconds,
        minutes,
        hours,
        days
    };
}

// Example usage
const date1 = '2023-05-17T12:00:00Z';
const date2 = '2023-05-17T15:30:00Z';

const difference = getTimeDifference(date1, date2);

console.log(`Time difference:
Milliseconds: ${difference.milliseconds}
Seconds: ${difference.seconds}
Minutes: ${difference.minutes}
Hours: ${difference.hours}
Days: ${difference.days}`);



<div style="display: inline-block">
        <div
          style="
            display: inline-block;
            /* background-color: yellow; */
            align-content: center;
            cursor: pointer;
            align-content: center;
            margin-top: 5px;
            margin-bottom: auto;
          "
          id="notificationDiv"
          onclick="ShowNoficationDetails()"
        >
          <sapn class="numbernotification" id="numbernotification"></sapn>
          <script>
            setInterval(() => {
              let list =
                localStorage.getItem("adminNotification") !== null
                  ? JSON.parse(localStorage.getItem("adminNotification"))
                  : [];
              // alert(list.length);
              if (list.length > 0) {
                document.getElementById("numbernotification").innerHTML =
                  list.length;
              } else {
                document.getElementById("numbernotification").innerHTML = "";
              }
            }, 5000);
          </script>
          <span>
            <box-icon
              name="envelope"
              id="notoficationShow"
              style="color: white"
            ></box-icon
          ></span>
        </div>

        <div class="float-right user-detail">
          <span
            class="float-right"
            style="color: red; cursor: pointer"
            onclick="adminLogout();"
            >Logout</span
          >
        </div>
      </div>